<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bright Tup Up | Produits</title>
<style>
  body {margin:0;font-family:'Poppins',sans-serif;background:#001a33;color:#e0f7ff;}
  header {background:rgba(5,10,20,0.95);padding:14px 22px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #00aaff;box-shadow:0 0 15px #00aaff;position:sticky;top:0;z-index:100;}
  header h1 {font-size:1.4rem;color:#00ccff;text-shadow:0 0 12px #00aaff;margin:0;font-weight:700;}
  .menu-btn {font-size:26px;cursor:pointer;background:none;border:none;color:#00ccff;text-shadow:0 0 10px #00aaff;}
  .menu-block {position:absolute;top:60px;right:20px;background:rgba(5,10,20,0.95);border:1px solid #00aaff;border-radius:12px;box-shadow:0 0 15px #00aaff;padding:15px;display:none;flex-direction:column;gap:10px;z-index:200;}
  .menu-block.show {display:flex;}
  .menu-block button,.menu-block select {border:1px solid #00aaff;padding:7px 12px;border-radius:10px;background:rgba(0,0,0,0.35);color:white;cursor:pointer;font-weight:600;transition:0.25s;}
  .menu-block button:hover,.menu-block select:hover {background:#00aaff;color:#000;box-shadow:0 0 12px #00aaff;}
  #profile-pic {width:40px;height:40px;border-radius:50%;border:2px solid #00ccff;object-fit:cover;box-shadow:0 0 10px #00aaff;}
  #user-name,#user-balance {font-weight:600;font-size:0.9rem;color:#00ccff;}
  .container {padding:30px;}
  .section-title {font-size:1.5rem;margin:20px 0 10px;text-shadow:0 0 10px #00ccff;}
  .grid {display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;}
  .card {background:rgba(255,255,255,0.05);border:1px solid rgba(0,174,239,0.35);border-radius:15px;padding:20px;text-align:center;box-shadow:0 0 10px #00aaff44;transition:0.3s;}
  .card:hover {transform:translateY(-5px);box-shadow:0 0 15px #00aaffaa;}
  .card h3 {margin-bottom:10px;color:#00ccff;}
  .card p {font-size:0.9rem;color:#ccc;}
  .btn-primary {background:#00ccff;color:#000;border:none;padding:8px 16px;border-radius:8px;cursor:pointer;margin-top:10px;font-weight:bold;}
  .btn-primary:hover {background:#0099ff;color:#fff;box-shadow:0 0 12px #00aaff;}
  footer {text-align:center;padding:20px;background:rgba(0,0,0,0.6);font-size:0.9rem;border-top:1px solid #00aaff;}
</style>
</head>
<body>

<header>
  <h1>Bright Tup Up ‚Äî Produits</h1>
  <button class="menu-btn" onclick="toggleMenu()">‚ò∞</button>
</header>

<div class="menu-block" id="menuBlock">
  <img id="profile-pic" src="https://via.placeholder.com/40" alt="Photo de profil">
  <span id="user-name">Utilisateur</span>
  <span id="user-balance">Solde : 0 G</span>
  <select id="currency-select">
    <option value="HTG">HTG</option>
    <option value="USD">USD</option>
    <option value="EUR">EUR</option>
  </select>
  <button onclick="openRecharge()">üí≥ Recharger</button>
  <button onclick="openProfile()">üë§ Profil</button>
  <button onclick="openCart()">üõí Panier</button>
  <button onclick="openContact()">üìû Contact</button>
</div>

<div class="container">

  <div class="section">
    <h2 class="section-title">üéÆ Jeux</h2>
    <div class="grid">
      <div class="card"><h3>Free Fire</h3><p>Diamants, Pass et Offres</p><button class="btn-primary" onclick="openPage('freefire.html')">Voir plus</button></div>
      <div class="card"><h3>PUBG Mobile</h3><p>UC & Offres Sp√©ciales</p><button class="btn-primary" onclick="openPage('pubg.html')">Voir plus</button></div>
      <div class="card"><h3>Call of Duty Mobile</h3><p>Points CP</p><button class="btn-primary" onclick="openPage('CallofDutyMobile.html')">Voir plus</button></div>
    </div>
  </div>

  <div class="section">
    <h2 class="section-title">üì∫ Abonnements</h2>
    <div class="grid">
      <div class="card"><h3>Netflix</h3><p>1 √† 3 mois ‚Äî Premium inclus</p><button class="btn-primary" onclick="openPage('netflix.html')">Voir plus</button></div>
      <div class="card"><h3>Amazon Prime Video</h3><p>Abonnement mensuel</p><button class="btn-primary" onclick="openPage('amazonprime.html')">Voir plus</button></div>
      <div class="card"><h3>Crunchyroll</h3><p>Abonnement Premium 1 mois</p><button class="btn-primary" onclick="openPage('crunchyroll.html')">Voir plus</button></div>
      <div class="card"><h3>NordVPN</h3><p>S√©curit√© & confidentialit√© ‚Äî 1 √† 6 mois</p><button class="btn-primary" onclick="openPage('nordvpn.html')">Voir plus</button></div>
    </div>
  </div>

  <div class="section">
    <h2 class="section-title">üéÅ Gift Cards</h2>
    <div class="grid">
      <div class="card"><h3>Google Play</h3><p>10$ ‚Äî 25$ ‚Äî 50$</p><button class="btn-primary" onclick="openPage('google.html')">Voir plus</button></div>
      <div class="card"><h3>Apple Gift Card</h3><p>Recharge iTunes & App Store</p><button class="btn-primary" onclick="openPage('apple.html')">Voir plus</button></div>
      <div class="card"><h3>PlayStation / Xbox</h3><p>PSN, Xbox Codes & Recharges</p><button class="btn-primary" onclick="openPage('playStationxbox.html')">Voir plus</button></div>
    </div>
  </div>

  <div class="section">
    <h2 class="section-title">‚ûï Produits +</h2>
    <div class="grid">
      <div class="card"><h3>Produits personnalis√©s</h3><p>Modifier, ajouter et g√©rer vos produits.</p><button class="btn-primary" onclick="openPage('prodp.html')">Ouvrir</button></div>
      <div class="card"><h3>New Prod +</h3><p>Cr√©er un nouveau produit instantan√©ment.</p><button class="btn-primary" onclick="openPage('dpr.html')">Ouvrir</button></div>
    </div>
  </div>

</div>

<footer>¬© 2026 Bright Tup Up ‚Äî Mothemax760@gmail.com</footer>

<script>
function toggleMenu(){
  const menu = document.getElementById("menuBlock");
  menu.classList.toggle("show");
}
function openRecharge(){ window.location.href="rechargex.html"; }
function openProfile(){ window.location.href="profil.html"; }
function openCart(){ window.location.href="cart.html"; }
function openContact(){ window.location.href="contact.html"; }
function openPage(page){ window.location.href = page; }
</script>

<!-- üîê Firebase Auth + Firestore -->
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCbQGaaTjyTxZTWNwRE5lTVkZsZbJyofgg",
  authDomain: "brighttupup.firebaseapp.com",
  projectId: "brighttupup",
  storageBucket: "brighttupup.appspot.com",
  messagingSenderId: "812394183947",
  appId: "1:812394183947:web:d65d60d6aeee39bcc3b60e"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

onAuthStateChanged(auth, async (user) => {

  if(user){

    let account = {
      email: user.email,
      username: user.displayName || "Utilisateur",
      photo: user.photoURL || "https://via.placeholder.com/40",
      credits: 0
    };

    try{

      const snap = await getDocs(collection(db,"users"));

      snap.forEach(doc => {

        const data = doc.data();

        if(data.email && data.email.toLowerCase() === user.email.toLowerCase()){

          account.username = data.username ?? account.username;
          account.photo = data.photo ?? account.photo;
          account.credits = Number(data.credits ?? 0);

        }

      });

    }catch(e){

      console.warn("Firestore erreur:", e);

    }

    sessionStorage.setItem("dpstore_user", JSON.stringify(account));

    document.getElementById("user-name").textContent = account.username;
    document.getElementById("user-balance").textContent = "Solde : " + account.credits + " G";
    document.getElementById("profile-pic").src = account.photo;

  }

  else{

    window.location.href = "index.html";

  }

});

</script>

</body>
</html>
