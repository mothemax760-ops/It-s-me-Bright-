<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bright Tup Up | Recharge</title>

<style>
body {margin:0;font-family:'Poppins',sans-serif;background:#001a33;color:#e0f7ff;}

header {
background:rgba(5,10,20,0.95);
padding:14px 22px;
display:flex;
justify-content:space-between;
align-items:center;
border-bottom:1px solid #00aaff;
box-shadow:0 0 15px #00aaff;
position:sticky;
top:0;
z-index:100;
}

header h1 {
font-size:1.4rem;
color:#00ccff;
text-shadow:0 0 12px #00aaff;
margin:0;
font-weight:700;
}

.menu-btn {
font-size:26px;
cursor:pointer;
background:none;
border:none;
color:#00ccff;
text-shadow:0 0 10px #00aaff;
}

.menu-block {
position:absolute;
top:60px;
right:20px;
background:rgba(5,10,20,0.95);
border:1px solid #00aaff;
border-radius:12px;
box-shadow:0 0 15px #00aaff;
padding:15px;
display:none;
flex-direction:column;
gap:10px;
z-index:200;
}

.menu-block.show {display:flex;}

.menu-block button,.menu-block select {
border:1px solid #00aaff;
padding:7px 12px;
border-radius:10px;
background:rgba(0,0,0,0.35);
color:white;
cursor:pointer;
font-weight:600;
}

.menu-block button:hover,.menu-block select:hover {
background:#00aaff;
color:#000;
box-shadow:0 0 12px #00aaff;
}

#profile-pic {
width:40px;
height:40px;
border-radius:50%;
border:2px solid #00ccff;
object-fit:cover;
box-shadow:0 0 10px #00aaff;
}

#user-name,#user-balance {
font-weight:600;
font-size:0.9rem;
color:#00ccff;
}

.container {
padding:30px;
max-width:500px;
margin:auto;
}

.card {
background:rgba(255,255,255,0.05);
border:1px solid rgba(0,174,239,0.35);
border-radius:15px;
padding:20px;
box-shadow:0 0 10px #00aaff44;
}

.card h2 {
color:#00ccff;
text-shadow:0 0 10px #00aaff;
margin-bottom:15px;
}

.number-box {
background:#000;
border:1px solid #00aaff;
padding:12px;
border-radius:10px;
color:#00ffcc;
font-weight:bold;
margin-bottom:15px;
text-align:center;
}

input,select {
width:100%;
padding:10px;
margin-bottom:12px;
border-radius:10px;
border:1px solid #00aaff;
background:#000;
color:#fff;
}

.btn-primary {
background:#00ccff;
color:#000;
border:none;
padding:10px;
border-radius:10px;
cursor:pointer;
font-weight:bold;
width:100%;
}

.btn-primary:hover {
background:#0099ff;
color:#fff;
box-shadow:0 0 12px #00aaff;
}

.warning {
font-size:13px;
color:#ffcc00;
margin-bottom:15px;
}

footer {
text-align:center;
padding:20px;
background:rgba(0,0,0,0.6);
font-size:0.9rem;
border-top:1px solid #00aaff;
}

</style>
</head>
<body>

<header>
<h1>Bright Tup Up â€” Recharge</h1>
<button class="menu-btn" onclick="toggleMenu()">â˜°</button>
</header>

<div class="menu-block" id="menuBlock">

<img id="profile-pic" src="https://via.placeholder.com/40">

<span id="user-name">Utilisateur</span>

<span id="user-balance">Solde : 0 G</span>

<button onclick="openRecharge()">ðŸ’³ Recharger</button>

<button onclick="openProfile()">ðŸ‘¤ Profil</button>

<button onclick="openCart()">ðŸ›’ Panier</button>

<button onclick="openContact()">ðŸ“ž Contact</button>

</div>

<div class="container">

<div class="card">

<h2>Recharge par MonCash</h2>

<div>NumÃ©ro pour envoyer l'argent :</div>

<div class="number-box">46960293</div>

<div class="warning">
AprÃ¨s le paiement, remplissez correctement les informations pour recevoir votre solde.
</div>

<input type="text" id="fullname" placeholder="Entrer nom complet">

<input type="text" id="transid" placeholder="Transaction ID ou Transcode">

<input type="number" id="amount" placeholder="Entrer le montant">

<select id="country">
<option value="+509">ðŸ‡­ðŸ‡¹ HaÃ¯ti (+509)</option>
</select>

<input type="text" id="phone" placeholder="NumÃ©ro de tÃ©lÃ©phone">

<button class="btn-primary" onclick="confirmRecharge()">Confirmer la recharge</button>

</div>

</div>

<footer>Â© 2026 Bright Tup Up</footer>

<script>

function toggleMenu(){
document.getElementById("menuBlock").classList.toggle("show");
}

function openRecharge(){window.location.href="rechargex.html";}
function openProfile(){window.location.href="profil.html";}
function openCart(){window.location.href="cart.html";}
function openContact(){window.location.href="contact.html";}

function confirmRecharge(){

const fullname=document.getElementById("fullname").value;
const transid=document.getElementById("transid").value;
const amount=document.getElementById("amount").value;
const country=document.getElementById("country").value;
const phone=document.getElementById("phone").value;

if(!fullname||!transid||!amount||!phone){
alert("Remplis tous les champs");
return;
}

let cart=JSON.parse(localStorage.getItem("cart_recharge"))||[];

cart.push({
type:"Recharge MonCash",
fullname,
transid,
amount,
phone:country+phone,
date:new Date().toLocaleString(),
status:"En attente"
});

localStorage.setItem("cart_recharge",JSON.stringify(cart));

alert("Recharge envoyÃ©e avec succÃ¨s");

}

</script>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

const firebaseConfig = {
apiKey:"AIzaSyCbQGaaTjyTxZTWNwRE5lTVkZsZbJyofgg",
authDomain:"brighttupup.firebaseapp.com",
projectId:"brighttupup",
storageBucket:"brighttupup.appspot.com",
messagingSenderId:"812394183947",
appId:"1:812394183947:web:d65d60d6aeee39bcc3b60e"
};

const app=initializeApp(firebaseConfig);
const auth=getAuth(app);
const db=getFirestore(app);

onAuthStateChanged(auth,async(user)=>{

if(user){

let account={
email:user.email,
username:user.displayName||"Utilisateur",
photo:user.photoURL||"https://via.placeholder.com/40",
credits:0
};

const snap=await getDocs(collection(db,"users"));

snap.forEach(doc=>{

const data=doc.data();

if(data.email?.toLowerCase()===user.email.toLowerCase()){

account.username=data.username??account.username;
account.photo=data.photo??account.photo;
account.credits=Number(data.credits??0);

}

});

sessionStorage.setItem("dpstore_user",JSON.stringify(account));

document.getElementById("user-name").textContent=account.username;
document.getElementById("user-balance").textContent="Solde : "+account.credits+" G";
document.getElementById("profile-pic").src=account.photo;

}

else{

window.location.href="index.html";

}

});

</script>

</body>
</html>
